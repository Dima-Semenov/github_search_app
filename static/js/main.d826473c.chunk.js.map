{"version":3,"sources":["Components/CurrentUser/CurrentUser.jsx","Components/Loader/Loader.jsx","Components/UserList/UserList.jsx","Components/Header/Header.jsx","api.jsx","App.jsx","index.js"],"names":["CurrentUser","name","description","language","html_url","className","href","target","rel","Loader","UserList","repos","length","map","repo","id","Header","getUserRepo","user","url","fetch","then","response","ok","json","status","statusText","App","useState","query","setQuery","appliedQuery","setAppliedQuery","setRepos","key","initialValue","item","window","localStorage","getItem","JSON","parse","error","console","log","storedValue","setStoredValue","value","valueToStore","Function","setItem","stringify","useLocalStorage","serchValue","setSearchValue","isError","setIsError","applyQuery","useCallback","debounce","useEffect","result","includes","prevState","handleChange","type","classNames","placeholder","onChange","event","slice","onClick","Math","random","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d826473c.chunk.js","sourcesContent":["import React from 'react';\nimport '../CurrentUser/currentUser.scss';\nimport PropTypes from 'prop-types';\n\nexport const CurrentUser = ({\n  name,\n  description,\n  language,\n  html_url,\n}) => {\n\n  return (\n    <div className=\"user\">\n      <div className=\"user__info\">\n        <a href={html_url} target=\"_blank\" rel=\"noreferrer\">\n          <h3 className=\"user__title\">{name}</h3>\n        </a>\n        <p>\n          Language:\n          {' '}\n          {language || \"No language selected\"}\n        </p>\n        <p>\n          Description:\n          {' '}\n          {description || \"User has no description\"}\n        </p>\n      </div>\n    </div>\n  );\n}\n\nCurrentUser.propTypes = {\n  name: PropTypes.string.isRequired,\n  html_url: PropTypes.string.isRequired,\n  description: PropTypes.string,\n  language: PropTypes.string,\n}\n","import React from 'react';\nimport '../Loader/loader.scss';\n\nexport const Loader = () => (\n  <div className=\"lds-ellipsis\">\n    <div></div>\n    <div></div>\n    <div></div>\n    <div></div>\n  </div>\n);","import React from 'react';\nimport { CurrentUser } from '../CurrentUser/CurrentUser';\nimport { Loader } from '../Loader/Loader';\nimport PropTypes from 'prop-types';\n\nexport const UserList = ({ repos }) => (\n  <>\n    {repos.length === 0 ? (\n      <Loader />\n      ) : (\n      <>\n        {repos.map(repo => (\n          <CurrentUser key={repo.id} {...repo} />\n        ))}\n      </>\n    )\n    }\n  </>\n);\n\nUserList.propTypes = {\n  repos: PropTypes.array.isRequired,\n}\n","import React from 'react';\nimport '../Header/header.scss'\n\nexport const Header = () => (\n  <header className=\"header\">\n    <div className=\"header__logo\">\n      <h1>requestum</h1>\n      <p>web development company</p>\n    </div>\n    <div>\n      <h4 className=\"header__title\">Github users search app</h4>\n    </div>\n  </header>\n);","const MAIN_URL = 'https://api.github.com';\n\nconst request = (url) => {\n  return fetch(`${MAIN_URL}${url}`)\n  .then(response => {\n    if (response.ok) {\n\n      return response.json();\n    }\n\n    // eslint-disable-next-line no-throw-literal\n    throw `${response.status} - ${response.statusText}`\n  });\n};\n\nexport function getUserRepo(user) {\n  return request(`/users/${user}/repos`);\n}","import React, { useCallback, useEffect, useState } from 'react';\nimport { UserList } from './Components/UserList/UserList';\nimport { Header } from './Components/Header/Header';\nimport { getUserRepo } from './api';\nimport { debounce } from 'lodash';\nimport './App.scss';\nimport classNames from 'classnames';\n\nfunction useLocalStorage(key, initialValue) {\n  const [storedValue, setStoredValue] = useState(() => {\n    try {\n      const item = window.localStorage.getItem(key);\n      return item ? JSON.parse(item) : initialValue;\n    } catch (error) {\n      console.log(error);\n      return initialValue;\n    }\n  });\n\n  const setValue = value => {\n    try {\n      const valueToStore =\n        value instanceof Function ? value(storedValue) : value;\n      setStoredValue(valueToStore);\n      window.localStorage.setItem(key, JSON.stringify(valueToStore));\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return [storedValue, setValue];\n}\n\nexport function App() {\n  const [query, setQuery] = useState('');\n  const [appliedQuery, setAppliedQuery] = useState('');\n  const [repos, setRepos] = useState([]);\n  const [serchValue, setSearchValue] = useLocalStorage('history', []);\n  const [isError, setIsError] = useState(false);\n\n  const applyQuery = useCallback(\n    debounce(setAppliedQuery, 1000),\n    []\n  );\n\n  useEffect(() => {\n    if (appliedQuery) {\n      getUserRepo(appliedQuery)\n        .then(result => {\n          if (result.length === 0) {\n            setIsError(true)\n          } else {\n            setIsError(false)\n            setRepos(result)\n          }\n        });\n\n        if (!serchValue.includes(appliedQuery)) {\n          setSearchValue(prevState => [appliedQuery, ...prevState])\n        }\n\n    }\n  }, [appliedQuery]);\n\n  useEffect(() => {\n    if (!query) {\n      setRepos([])\n    }\n  }, [query])\n\n  const handleChange = (value) => {\n    setIsError(false)\n    setRepos([])\n    setQuery(value)\n    applyQuery(value)\n  }\n\n\n  return (\n    <div className=\"app\">\n      <Header />\n      <div className=\"app__container\">\n        <div className=\"app__searcher\">\n          <input\n            type=\"text\"\n            className={classNames('app__input', {error: isError})}\n            placeholder=\"Enter user name\"\n            value={query}\n            onChange={(event) => handleChange(event.target.value)}\n          />\n\n          {isError && (<p className=\"app__none\">No matches found</p>)}\n\n          <div className=\"app__history\">\n            <span className=\"app__history-title\">Search history:</span>\n            {serchValue.slice(0, 5).map(value => (\n              <p\n                key={Math.random()}\n                className=\"app__history-text\"\n                onClick={() => handleChange(value)}\n              >\n                {value}\n              </p>\n            ))}\n          </div>\n        </div>\n\n        <div className=\"app__content\">\n          {query ? (\n            <UserList repos={repos} />\n            ) : (\n            <p className=\"app__unselect\">Please enter a user</p>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport { App } from './App.jsx';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}